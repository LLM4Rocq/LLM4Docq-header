
Inertia Groups and Conjugation of Class Functions

Overview
========
This Coq source file develops formal definitions and fundamental properties of inertia groups in the context of the representation theory of finite groups, with a special emphasis on their action on class functions and irreducible characters. The primary focus is on capturing and proving foundational results about the interplay between group actions (by conjugation) and the structure of class functions and their stabilizer (inertia) subgroups.

The file aims to provide a rich and reusable library of facts about inertia groups, conjugacy actions on class functions, and related operations (restriction, induction, quotient, products, and morphisms), serving as a bridge between abstract group-theoretic concepts and effective formal reasoning in Coq. Many key theorems correspond to results from Isaacs' textbook on character theory.

Mathematical Objects and Formal Representations
==============================================
The main mathematical concepts formalized in this file are:

1. **Finite Groups and Group Actions**
   - *Groups and Subgroups*: Finite groups are represented as types with an attached group structure (`finGroupType`), and subgroups as finite sets (`{group gT}` or `{set gT}`).
   - *Group Operations and Notations*: Standard subgroup notations are used, such as `<<B>>` (subgroup generated by `B`), `'N(G)` (normalizer), `'C(G)` (centralizer), and `'Z(G)` (center). Cosets and quotient groups are handled with `coset K x` and related types.

2. **Class Functions (`'CF(G)` and associated types)**
   - *Class Functions*: Functions constant on conjugacy classes, formally implemented as `Cfun`, with notation `'CF(G)` for class functions on subgroup `G`.
   - *Characters and Irreducible Characters*: The set of complex-valued irreducible characters is indexed (`Iirr G`), and irreducibility is captured via the `irr` predicate.

3. **Conjugation of Class Functions**
   - *Conjugate of a Class Function*: The conjugation of a class function `phi` by group element `y` is written `(phi ^ y)%CF`, defined so that `(phi ^ y)%CF(x) = phi(x ^ y^{-1})` when `y` normalizes the relevant subgroup, and `phi` otherwise.
   - *Sequence of Conjugates*: The sequence of all distinct conjugates of a class function `phi` under a group `G` is denoted `(phi ^: G)%CF`.
   - *Conjugation on Characters*: Notations like `conjg_Iirr i y` give the index of the irreducible character obtained by conjugating `chi_i` by `y`.

4. **Inertia Groups**
   - *Definition*: The inertia group of a class function `phi` (denoted `'I[phi]`) is the subgroup of elements normalizing the support of `phi` and fixing `phi` under conjugation.
   - *Relative/Localized Inertia Group*: For subgroups `H ⊆ G`, `'I_G[phi]` denotes the inertia group of `phi` intersected with `G`, i.e., the inertia group considered relative to the larger group.
   - *Related Notions*: Centralizers and centers are shown to be contained in inertia groups under suitable conditions.

5. **Conjugacy Classes of Class Functions**
   - *Class Function Classes*: For a class function `phi`, `(phi ^: G)%CF` is the G-orbit (distinct conjugates) under conjugation by `G`.
   - *Classes of Irreducible Characters*: The mapping `cfclass_Iirr G i` gives all indices of irreducible characters in the G-orbit of a given character.

6. **Induction, Restriction, Morphisms, and Quotients**
   - The behavior of conjugation and inertia groups under restriction, induction, morphisms (group and class function homomorphisms), and group quotients is established.
   - *Interplay of Operations*: For example, the effect of conjugation on induced or restricted class functions, or the description of inertia groups under group homomorphisms and quotient maps.

7. **Products and Direct Products**
   - Specialized sections develop results for semidirect (sdprod), direct (dprod), and iterated direct products (bigdprod), showing how inertia groups and class function conjugation behave under these constructions.

8. **Extension and Bijection Results**
   - Major theorems describe when and how irreducible characters or class functions on subgroups can be extended to larger groups, using the action of inertia groups and related maps.
   - The file captures several important classification theorems that relate induction or extension with the structure of inertia groups, e.g., Clifford theory, Gallagher's theorem, and explicit description of the irreducibles in terms of inertia group orbits.

9. **Special Cases: Frobenius and Coprime Action**
   - The inertia groups of characters are determined in situations such as Frobenius groups or when core subgroup indices are coprime.

Key Coding and Notational Conventions
=====================================
- **Notation and Scopes**
  - Custom notations are reserved for inertia groups (`'I[phi]`, `'I_G[phi]`), conjugate class functions (`phi ^ y`), and orbits of class functions (`phi ^: G`), always annotated with `%CF` for type clarity.
  - Mathematical components' preferred naming and sectioning patterns are followed, using short and systematic lemma names connected to their mathematical content (e.g., `cfConjgE`, `inertia_add`, `cfclassP`).

- **Implicit Arguments and Type Inference**
  - `Set Implicit Arguments` and related settings are employed to reduce verbosity; most group and function arguments are implicit when they are inferable from context.

- **Predicate Reflection**
  - Central predicates are given as both propositional (using `:` and subset relations) and boolean (with lemmas reflecting between the two) to enable rewriting and automation.

- **Canonical Structures**
  - Inertia groups are defined canonically as subgroups with inherited group structure, permitting smooth use in subsequent constructions and proofs.

- **Functoriality and Morphisms**
  - The behavior of constructions under group homomorphisms and isomorphisms is formalized, supporting transfer of facts between groups and cosets.

- **Sectioning and Theorem Organization**
  - The development is divided into logical sections corresponding to major constructions (conjugation, inertia, products, quotients, extension, etc.), often reflecting the textbook sources (e.g., Isaacs, chapters 6–7).

- **Compatibility and Legacy**
  - Where notations or definitions change across library versions, deprecated aliases and warnings are given to ease migration.

Use and Context
===============
This file serves as a core infrastructure for machine-checked mathematics in group representation theory, especially for formalizing results about the structure and action of inertia groups and related group-theoretic invariants of class functions. It lays the groundwork for further formalization in Clifford Theory, modular representation, and applications involving character theory of finite groups. All notation and conventions are carefully chosen to match both mathematical tradition and the expectations of the MathComp/Coq ecosystem, but the docstring is aimed to be fully self-contained: a mathematically literate reader will find here both the purposes and mechanisms needed to interpret any definition or theorem from the file without recourse to external documentation.
